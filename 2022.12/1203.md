### **빌드란**

- 작업하는 프로젝트 파일들을 출시하기 적합한 형태로 포장하는 일
- 소스 코드 파일을 여러과정을 거쳐 컴퓨터에서 실행할 수 있는 독립 SW 가공물로 변환시키는 과정
- **빌드의 여러과정**(빌드를 세분화하면…)
1) 소스코드를 컴파일 한다.
2) 테스트 코드를 컴파일  한다.
3) 테스트 코드를 실행한다.
4) 테스트 코드 리포트를 작성한다.
5) 기타 추가 설정한 작업들을 진행한다.
6) 패키징을 수행한다.
7) 최종 SW 결과물을 만들어 낸다.

### 빌드 툴(=빌드 관리 도구)이란?

1. 소스코드의 빌드 과정을 자동으로 처리 해주는 프로그램
2. 외부 소스 코드 (외부 라이브러리) 자동 추가, 관리
3. 프로젝트에서 필요한 xml,properties,jar 파일들을 자동으로 인식하여 빌드해주는 도구
4. 소스코드를 컴파일, 테스트, 정적분석 등을 하여 실행 가능한 앱으로 빌드해줌
5. 프로젝트 정보 관리, 테스트 빌드, 배포 등의 작업을 진행해줌
- 자바의 빌드 툴(소스코드의 빌드과정을 자동으로 처리해주는 프로그램)에는 ant, maven, gradle등이 있다.

### Ant

---
- 설정을 위해 xml을 사용한다.
- 간단하고 사용하기 쉽다.(자유로운 빌드 단위 지정)
- 복잡한 처리를 하려 하면 빌드 스크립트가 장황해져 관리가 어렵다.
- 외부 라이브러리를 관리하는 구조가 없다.
- 2000년대 초중반에 많이 사용되었다.
- 라이프 사이클이 없음

### Maven

---
- Ant가 가지고 있는 단점들을 대부분 극복한 빌드 툴(Ant는 빌드의 기능만 가지고 있음)
- 설정을 위해 xml을 사용한다.
- 외부 라이브러리를 관리할 수 있다. 다운받아 사용하던 라이브러리에 변동 사항이 있으면 자동으로 업데이트 하여 적용됨
- 장황한 빌드 스크립트 문제를 해결했다.
- 특정 경우에 xml이 복잡해진다.
- xml 자체의 한계가 있었다.
- 지금도 사용하는 경우(오랜 기간 동안 진행중인 프로젝트)가 가끔 있지만, 신규 프로젝트에는 지양하는 편이다.
- 라이프 사이클 도입
- pom.xml로 편하게 Dependency관리

### Gradle

---
- 가장 최신에 나온 java 빌드 툴이며 특히 신규 프로젝트에서 많이 사용되고 있다.
- 설정을 위해 xml 대신 JVM 언어중 하나인 groovy 언어를 사용한다.(Maven에 비해 간결한 구성)
- groovy 언어를 사용하기 때문에 xml이 가지는 한계를 갖지 않아 유연하게 빌드 스크립트를 작성할 수 있다.
- 외부 라이브러리를 관리 할 수 있다.
- 성능이 뛰어나다.
- 안드로이드 프로젝트의 표준 빌드 시스템으로 채택
    
    ### Gradle이 빌드 속도가 빠른 이유
    
    1. **점진적 빌드(Incremental Build)**
        
        Gradle의 점진적 빌드는 이미 빌드된 파일들을 모두 다시 빌드하는 것이 아닌 바뀐 파일들만 빌드 하는 것을 뜻한다. 예를 들어 Kotlin 파일이 20개 있는 상태에서 컴파일이 완료 되었으면, 이후 파일들 중 5개만 바뀌었을 경우 20개 모두가 아니라 5개만 다시 컴파일 시킨다. 이는 다른 빌드 툴들에 비해 많은 속도 향상을 이루어 낸다.
        
    2. **Build Cache**
        
        만약 두 개 이상의 빌드가 돌아가고, 하나의 빌드에서 사용되는 파일들이 다른 빌드들에 사용된다면 Gradle은 빌드 캐시를 이용해 이전 빌드의 결과물을 다른 빌드에서 사용할 수 있다. 이로 인해 다시 빌드하지 않아도 되므로 빌드 시간이 줄어들게 된다.
        
    3. **Daemon Process**
        
        또한 Gradle은 데몬 프로세스를 지원한다. 데몬 프로세스는 서비스의 요청에 응답하기 위해 오래 동안 살아 있는 프로세스인데 Gradle의 데몬 프로세스는 메모리 상에 빌드 결과물을 보관한다. 이로 인해 한 번 빌드된 프로젝트는 다음 빌드에서 매우 적은 시간만 소요된다. 실제로 안드로이드의 경우 프로젝트가 복잡해지면 처음 빌드하는데 긴 시간이 걸리는데, 두번 째 빌드부터는 매우 적은 시간이 소모된다.
        
        - 다음 명령어로 데몬 프로세스를 수행하거나 수행하지 않도록 할 수 있다.
        
        ```groovy
        gradle build --daemon
        gradle build --no-daemon
        ```
        
    
    ### Gradle의 대표용어
    - repositories : 라이브러리가 저장된 위치 등 설정
    - mavenCentral : 기본 Mavan Repository
    - dependencies : 라이브러리 사용을 위한 의존성 설정
