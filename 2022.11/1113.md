## 프로그램 실행과정

## 1. **코드작성**

**코드**(code) 혹은 **소스**(source)는 프로그램이 어떤 모습이고, 어떻게 동작해야 하는가를 표현한 일종의 설계도라고 할 수 있다. 그런데 컴퓨터 프로그래밍에서의 설계도는 **설계도 이상의 의미**가 있다. 설계도를 컴퓨터에게 제출하는 순간 컴퓨터는 그 설계도에서 요구하는 프로그램을 마법처럼 만들어주기 때문이다. 그래서 프로그래밍에서의 설계도는 그 프로그램 자체라고도 할 수 있다. 예제코드는 자바의 문법에 맞게 만들어진 텍스트 파일이고, 이 파일의 확장자는 .java를 사용한다.

예제 ) 파일의 이름은 Helloworld.java다.

```java
class Helloworld {
	public static void main(String[] args){
		System.out.println("Hello world");
	}
}
```

## 2. **컴파일**

그런데 **코드 자체를 바로 실행할 수는 없다**. 자바의 문법은 사람만이 이해할 수 있는 형식으로 되어 있기 때문이다. 이 코드를 컴퓨터가 이해할 수 있는 상태로 변환해주는 과정이 필요한데 이것을 **컴파일(compile)**이라고 하고, **이 작업을 하는 소프트웨어를 컴파일러(compiler)**라고 부른다.

```java
javac Helloworld.java
```

## 3. **실행**

위의 명령을 실행하면 같은 디렉터리에 Helloworld.class라는 이름의 파일이 생성된다. 
바로 이 파일이 **컴파일된 파일이고, 쉽게 말해서 실행파일**이라고 할 수 있다. 그런데 이 파일은 파일 이름만으로 실행 할 수 있는 것은 아니고, 컴파일된 파일을 실행시켜주는 프로그램을 이용해야 한다. 이 작업을 하는 프로그램을 런처(launcher)라고 하고 아래와 같이 실행한다.

```java
java Helloworld
```

런처는 내부적으로 자바 가상 머신에서 우리가 만든 코드가 동작하도록 한다. 우리가 만든 프로그램은 최종적으로 자바 가상머신이라는 것을 통해서 동작하게 된다.

위와 같은 흐름을 통해서 자바 프로그램이 만들어지고 실행된다. 이를 통해서 알 수 있는 것은 코드만 있다고 프로그램이 만들어지는 것은 아니라는 것이다. 실제로 동작하는 프로그램은 자바이고, 개발자는 자바가 어떻게 동작할 것인가를 코드로 작성해서 자바에게 전달하면 자바는 그 코드에 적혀있는 데로 실행하게 되는 것이다.
## 빌드과정

외국어 책을 우리말로 번역하여 만들어보는 과정을 프로그래밍에서는 실행 파일을 만드는 과정 즉 ‘빌드’라고 할 수 있다.  

외국어로 되어있는 책(소스 코드)을 우리나라 말로 번역(빌드)하여 우리(기계)가 읽을 수 있는 책(실행 파일)으로 만드는 과정은 하나만 있는 것이 아니다.

예로들어 전문 번역가를 고용한다던지, 구글 번역을 사용한다던지, 파파고를 사용한다던지.. 여러 방식이 있겠죠. 이렇듯 컴퓨터의 빌드 과정도 모든 언어가 각기 다른 방식을 사용하고 있다.

빌드과정은 크게 3가지 방식으로 분류를 할 수 있는데, 일단 이름부터 소개하자면 Compile 방식, Interpreter 방식, Hybrid 방식이 있다. Java는 대표적인 Hybrid 방식이다.
## **Hybrid Type**

컴파일 방식과 인터프리트 방식을 혼합한 방법이다. 두가지를 혼합한 이유는 무엇일까? 
컴파일언어의 단점은 실행 가능한 파일이 플랫폼에 의존적이라는 것이지만 실행 속도가 빠르다. 반대로 인터프리터 언어의 단점은 실행속도는 느리지만, 플랫폼에 독립적이라 어느 플랫폼이든 번역기(인터프리터)만 있으면 실행 가능하다.

이 둘의 단점을 상호 보완하여 만들어 진 것이 바로 하이브리드 방식이다.

흔히 **'바이트 코드 언어(Byte Code Language)'** 라고 하며 가장 대표적인 언어로는 Java(자바)가 있다.

<aside>
🗣 책을 번역하는 과정에 비유한다면, 세계적으로 가장 많이 쓰이는 언어는 영어이다. 영어가 모국어가 아닌 국가라 하더라도 영어를 할 줄 아는 사람들이 많을 것이다. 그래서 프랑스어, 힌두어 등등 다른 국가의 언어로 번역된 것을 1차적으로 영어로 번역을 해둔 다음, 영어로 번역된 것을 한국어로 번역하면 번역 가능한 사람이 많은 만큼 쉽고 빠르게 번역할 수 있을 것이다.

</aside>

위의 비유 처럼 영어는 어디서든 대부분 쓰기 때문에 조금은 번거롭더라도 중간 번역과정을 한 번 거쳐두면 그 다음부터는 재사용을 하기도 쉽고 다른 언어로 번역하기도 쉽다는 장점을 살린 것처럼 프로그래밍에서도 이를 적용한 방식이 바로 하이브리드 방식이다.

어디서든 대부분 쓰일 수 있다는 것 == 플랫폼에 대해 독립적이다

먼저, 고급 언어로 작성된 소스코드를 바이트 코드(bytecode)로 변환한다. 바이트 코드란 일종의 중간 언어이다. 그리고 VM(Virtual Machine : 가상머신) 이라는 프로그램이 바이트코드를 기계어로 바꿔준다.VM은 하나의 프로그램을 VM 이라는 가상머신에서 실행한다고 보면 된다. 즉, 각 플랫폼에 맞는 VM들이 만들어져 있다면 같은 소스코드를 어느 플랫폼에서든지 동일한 결과를 얻어낼 수 있다.
**하이브리드 언어의 장점**

- 각 플랫폼에 지원하는 가상머신 있다면 실행 가능하기 때문에 플랫폼에 독립적이다.

**하이브리드 언어의 단점**

- 컴파일 언어처럼 하드웨어를 직접 제어하는 작업은 불가능하다.
- 컴파일과 빌드의 차이점
- **컴파일**(compile)이란 C, Java 등 **인간이 이해할 수 있는 고급 언어로 작성된 프로그램 소스 코드를 컴퓨터
가 이해할 수 있는 기계어 또는 바이트코드로 번역해 주는 것**을 말한다.

원시코드는 c언어나 java, 파이썬 같은 사람이 이해할 수 있는 언어를 말하고 목적 파일은 컴퓨터가 이해할 수 있는 언어를 말한다. 실행 파일도 마찬가지로 컴퓨터가 이해할 수 있는 언어로 구성되어 있다. 컴파일에 대해 알지 못한 사람들이 많이 오해하고 있는 부분이 자신이 소스 코드를 작성하고 실행 파일을 만드는 것을 컴파일이라고 생각하지만 이것은 컴파일러가 하는 역할일 뿐 컴파일이라는 개념은 원시코드에서 목적 파일로 바꾸는 것이다.

## 실행과 빌드의 차이점

### 실행(run)

- 내가 작성한 코드(혹은 테스트 코드)를 컴파일을 거쳐 작동시켜 보는 것
- 독립 SW가공물이 나올 수도 있고, 나오지 않을  수도 있다.
- 인터프리터 언어(ex.자바스크립트)는 컴파일이 필요 없다.

독립 SW 가공물 = Artifact, 여러줄의 코드들→ 독립적인 하나의 파일
빌드(build)
- 작업하는 프로젝트 파일들을 출시하기 적합한 형태로 포장하는 일
- 소스 코드 파일을 여러과정을 거쳐 컴퓨터에서 실행할 수 있는 독립 SW 가공물로 변환시키는 과정

빌드의 여러과정(빌드를 세분화하면…)
1) 소스코드를 컴파일 한다.
2) 테스트 코드를 컴파일  한다.
3) 테스트 코드를 실행한다.
4) 테스트 코드 리포트를 작성한다.
5) 기타 추가 설정한 작업들을 진행한다.
6) 패키징을 수행한다.
7) 최종 SW 결과물을 만들어 낸다.

- 자바의 빌드 툴(소스코드의 빌드과정을 자동으로 처리해주는 프로그램)에는 ant, maven, gradle등이 있다.
- ## Compile/Build/Run 정리

### Compile

> "컴파일러는 특정 프로그래밍 언어로 쓰여 있는 문서를 다른 프로그래밍 언어로 옮기는 언어 번역 프로그램을 말한다."
> 

즉, 사람이 작성한 언어를 기계가 읽을 수 있도록 번역하는 것이 바로 컴파일이다.

### Build

> "빌드는 소스 코드 파일을 컴퓨터나 휴대폰에서 실행할 수 있는 독립 소프트웨어 가공물로 변환하는 과정을 말하거나 그에 대한 결과물을 일컫는다."
> 

즉, 문서나 리소스 등을 하나로 합쳐 앱으로 실행되게끔 하는 과정이나 앱인것이다. 하나의 앱으로 실행되려면 기계가 읽을 수 있게끔 번역하는 과정이 필요하다. 고로, 컴파일은 빌드 안에 포함되어 있는 과정이다.

### Run

> "어떠한 제품을 실제 장치에서 실행시키는 프로세스"
> 

즉, 빌드가 완성된 앱을 실제 시뮬레이터나 디바이스에 실행시키는 과정이다. 빌드 안에 컴파일이 포함되어 있고 런안에 빌드가 포함되어 있는 것!
